#ifndef SCENE_HCZ_H
#define SCENE_HCZ_H

#include "Standard.h"
#include "Application.h"
#include "LevelScene.h"
#include <S3/Player.h>

class Scene_HCZ : public LevelScene {
public:
    // Level Special
    Texture* tex_WaterlineTop;
    Texture* tex_GeyserParticles1_;
    Texture* tex_GeyserParticles2_;
    int giantWallID = -1;
    float giantWallX = 0;
    int waterTunnels[18 * 7] = {
    /*  Min X,  Min Y,  Max X,  Max Y,  X Velo, Y Velo, Player can influence which axis flag (Set = X, Clear = Y) */
        0x0380, 0x0580, 0x05A0, 0x05C0, 0x03F0, 0xFFE0, 0x0000,
		0x05A0, 0x0560, 0x0A80, 0x05C0, 0x03F0, 0xFFF0, 0x0000,
		0x1400, 0x0A80, 0x15A0, 0x0AC0, 0x0400, 0x0000, 0x0000,
		0x15A0,	0x0A40, 0x1960, 0x0AC0, 0x0400, 0xFFC0, 0x0000,
        0x1990,	0x0580, 0x19E0, 0x07F0, 0x0000, 0xF700, 0x0200,
		0x1990, 0x07F0, 0x19F0, 0x0878, 0xFEC0, 0xFD00, 0x0100,
		0x1990, 0x0878, 0x19F0, 0x08FD, 0x0140, 0xFD00, 0x0100,
		0x1990, 0x08FD, 0x19F0, 0x0978, 0xFEC0, 0xFD00, 0x0100,
		0x1990, 0x0978, 0x19F0, 0x0A10, 0x0100, 0xFD00, 0x0100,
		0x1960, 0x0A10, 0x19D0, 0x0A80, 0x0300, 0xFD80, 0x0100,
		0x2B00, 0x0800, 0x2C20, 0x0840, 0x0400, 0x0000, 0x0000,
		0x2C20,	0x07B0, 0x2EE0, 0x0840, 0x0400, 0xFFC0, 0x0000,
		0x2EE0,	0x0790, 0x2F10, 0x0810, 0x0300, 0xFD00, 0x0100,
        0x2F10, 0x0700, 0x2F30, 0x0800, 0x0200, 0xFD00, 0x0100,
		0x2F30, 0x0700, 0x2F70, 0x0800, 0x0100, 0xFD00, 0x0100,
		0x2F30, 0x0480, 0x2F70, 0x0700, 0x0000, 0xF700, 0x0200,

		0x3980, 0x0810, 0x3AA0, 0x0840, 0x0400, 0x0000, 0x0000,
		0x3AA0, 0x07D0, 0x3F00, 0x0840, 0x0400, 0x0000, 0x0000,
    };

    void HandleCamera();

    void DoPaletteWaterStuff();
    void DoBackgroundStuff();
    void DrawAboveEverythingNonHUD();

    void InitZone(bool resetTextures, int check, int specialRing, bool actTransition);
    void CreateUniqueTextures(Application* app, int act);
    void UnloadUniqueTextures(Application* app, int act);
    void DoSwitchActZone();

    void HCZ1_RenderWaterline();
    void HCZ2_UpdateMovingWall();
    void HCZ2_DrawMovingWall();

    void Update();
    void Render();
    void Free();

    int CustomAnimTile(int ind, int i, int parRow);

    Scene_HCZ(Application* app, int act, int checkpoint);
};


#endif /* Scene_HCZ_H */
